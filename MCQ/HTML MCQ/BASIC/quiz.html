<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awesome Quiz website | Abhay</title>
    <link rel="stylesheet" href="quiz.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>

</head>

<body>
    <div class="info_box">
        <div class="info-title"><span>Some Rules of this Quiz</span></div>
        <div class="info-list">
            <div class="info">1. You will have only <span>15 seconds</span> per each question.</div>
            <div class="info">2. Once you select your answer, it can't be undone.</div>
            <div class="info">3. You can't select any option once time goes off.</div>
            <div class="info">4. You can't exit from the Quiz while you're playing.</div>
            <div class="info">5. You'll get points on the basis of your correct answers.</div>
            <br>
            <div class="info">1. प्रत्येक प्रश्न के लिए केवल <span>15 सेकंड</span> होंगे।</div>
            <div class="info">2. एक बार जब आप अपना उत्तर चुन लेते हैं, तो इसे पूर्ववत नहीं किया जा सकता।</div>
            <div class="info">3. समय समाप्त हो जाने के बाद कोई भी विकल्प नहीं चुन सकते।</div>
            <div class="info">4. जब आप खेल रहे हों तब आप क्विज़ से बाहर नहीं निकल सकते।</div>
            <div class="info">5. आपको सही उत्तरों के आधार पर अंक प्राप्त होंगे।</div>

        </div>
        <div class="buttons">
            <button class="quit">Exit Quiz</button>
            <button class="restart">Continue</button>
        </div>
    </div>
    <div class="quiz_box">
        <header>
            <div class="title">QUIZO</div>
            <div class="timer">
                <div class="time_left_txt">Time Left</div>
                <div class="timer_sec">15</div>
            </div>
            <div class="time_line"></div>
        </header>
        <section>
            <div class="que_text">
            </div>
            <div class="option_list">
            </div>
        </section>
        <footer>
            <div class="total_que">
            </div>
            <button class="next_btn">Next Que</button>
        </footer>
    </div>
    <div class="result_box">
        <div class="icon">
            <i class="fas fa-crown"></i>
        </div>
        <div class="complete_text">You've completed the Quiz!</div>
        <div class="score_text">
        </div>
        <div class="buttons">
            <button class="restart">Replay Quiz</button>
            <button class="quit">Quit Quiz</button>
            <button class="download" onclick="downloadResults()">Download Marksheet</button>
        </div>
    </div>

    <script src="main.js"></script>
    <script src="questions.js"></script>
    </script>

    <script>
        function downloadResults() {
            const results = {
                lastScore: userScore,
                totalQuestions: questions.length,
                questions: questions.map(question => {
                    return {
                        question: question.question,
                        answer: question.answer,
                        userSelected: question.options.find(option => option === questions[que_count].answer) === option_list.querySelector('.correct') ? question.answer : 'Not answered'
                    };
                })
            };

            const data = JSON.stringify(results);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'quiz_results.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>


</body>

</html>